[%
////////////////////////////////////////////////////////////
//
// Author: Patricia Abascal Fernández
// Version: 1.2 
// Last modification: 15/03/2013 
// Description: Generates the files of all enumeration classes. 
//				And return a set of all the paths.
////////////////////////////////////////////////////////////
operation classEnumerationFilesCreation(packages: Set, modelProject: Model, directory: String){
	var paths_empty: Set; 
	var paths_notempty: Set; 
	for (pack in packages) {
	    var classes=pack.packagedElement.select(e|e.isTypeOf(Enumeration));
	    // If the package is empty
	    if (classes.size()==0){
	    	var path=directory+"\\src\\" + pack.name + "\\";
	    	paths_empty.add(path);
	    // If it's not empty, create all the classes inside the package
	    }else{
			for (class in classes) { 
		  		var t := TemplateFactory.load('EnumerationClassCreation.egl');
				t.populate ('currentClass', class);	
				t.populate('currentPackage', pack);
				t.populate('currentModel', modelProject);    
				var path=directory+"\\src\\" + pack.name + "\\"+ class.name +'.cs';
				t.generate (path); 	
				paths_notempty.add(path);
		     }//for-class
		}//if
	}//for-pack
	// Set of two elements
	// First one is a set including the empty paths and the second one is a set 
	// including the non empty paths from the current model
	var paths:Set;
	paths.add(paths_empty);
	paths.add(paths_notempty);
	return paths;
}
%]