%%==================================================================%%
%% Author : Abascal Fernández, Patricia                             %%
%%          Sánchez Barreiro, Pablo                                 %%
%% Version: 1.1, 17/04/2013                                         %%
%%                                                                  %%
%% Memoria del Proyecto Fin de Carrera                              %%
%% Background/Diseño Orientado a Características con UML            %%
%===================================================================%%

El diseño orientado a características~\cite{kastner:2008} es un paradigma para la construcción, adaptación y síntesis de sistemas software a gran escala. Una característica es una unidad de funcionalidad de un sistema software que satisface un requisito, representa una decisión de diseño y proporciona una opción de configuración potencial. La idea básica del diseño orientado a características es descomponer un sistema software en módulos agrupando las características que ofrece. El objetivo de la descomposición es la construcción de software bien estructurado que puede ser adaptado a las necesidades del usuario y al entorno de la aplicación.

Típicamente, a partir de un conjunto de características, se pueden generar multitud de sistemas software compartiendo características comunes y diferenciándose en otras. El conjunto de los sistemas software generados a partir de un conjunto de características, comentado en la sección~\ref{sec:back:spl}, corresponde al concepto de \emph{línea de productos software}.

Para estudiar las ventajas del diseño orientado a características nos basaremos en las facilidades proporcionadas por CaesarJ~\cite{aracic:2006}, e ilustraremos los ejemplos con diagramas UML. CaesarJ es un lenguaje de programación orientado a características basado en Java. Para ello trabaja con el concepto de \emph{familia de clases}. Una \emph{familia de clases} es una unidad de encapsulamiento que sirve para agrupar clases relacionadas. Las familias de clases reciben un tratamiento similar al de las clases, soportando relaciones de herencia entre ellas.

Asimismo, CaesarJ también introduce el concepto de \emph{clases virtuales}. Una clase virtual es una clase perteneciente a una familia de clases y que es susceptible de ser heredada y sobreescrita por familias de clases que hereden de la familia de clases que contiene dicha clase virtual. La Figura~\ref{back:fig:caesarJExpressions} ilustra esta situación. Las familias de clases se representan mediante paquetes UML, y herencia entre clases, mediante relaciones \emph{merge}. Cuando una familia de clases hereda de otra, hereda implícitamente todas sus clases virtuales. Si la primera contiene clases virtuales con el mismo nombre que la familia de clases que hereda, entonces la clase virtual de la familia de clases hija hereda de la clase virtual con el mismo nombre de la familia de clases padre. Por ejemplo, en la Figura~\ref{back:fig:caesarJExpressions}, la clase \imp{Mult} de la familia de clases \imp{Eval} heredaría implícitamente de la clase \imp{Mult} de la familia de clases \imp{Basic}. En cada familia de clases hija, se pueden añadir por tanto nuevos atributos y métodos a las clases virtuales de las familias de clases padre. Además, gracias al avanzado sistema de tipos de CaesarJ, se pueden añadir nuevas relaciones de herencia.

\begin{figure}[ht!]
  \centering
  \includegraphics[width=.55\linewidth]{background/images/CaesarJExpressions.eps} \\
  \caption{Diseño para resolver el problema de las expresiones con CaesarJ}
  \label{back:fig:caesarJExpressions}
\end{figure}

Además, las referencias entre clases se actualizan automáticamente. Por ejemplo, en el caso de la Figura~\ref{back:fig:caesarJExpressions}, aunque no se haga explícitamente, cualquier referencia a una clase del tipo \imp{Expression} dentro de la familia de clases \imp{Eval} se referirá a la clase virtual \imp{Expression} de la familia de clases \imp{Eval} y no a la clase virtual de mismo nombre de la familia de clases \imp{Expressions}. De esta forma, las referencias están siempre actualizadas a su versión más extendida.

Para implementar una línea de productos software, cada característica se considera como una familia de clases.
Dentro de cada familia de clases, cada característica se diseña usando las técnicas tradicionales de la orientación a objetos, tal como se muestra en la figura~\ref{back:fig:caesarJExpressions}.

\begin{figure}[ht!]
  \centering \includegraphics[width=.55\linewidth]{background/images/Configuration.eps} \\
  \caption{Composición de las características \imp{Eval} e \imp{Infix} en nuevo producto con CaesarJ}
  \label{back:fig:caesarJConfiguration}
\end{figure}

Para realizar una configuración, es decir, para crear un producto concreto por composición de características, simplemente hay que crear una nueva familia de clases que herede de las familias de clases que correspondan a las características seleccionadas. La figura \ref{back:fig:caesarJConfiguration} muestra como se crearía un producto nuevo mediante la composición de las características \imp{Eval} e \imp{Infix}.

Con el fin de solventar las limitaciones expuestas en la Sección \ref{sec:back:tente} y apoyándose en el diseño orientado a características (Sección \ref{sec:back:uml}), en la siguiente sección se describirá el patrón para resolver dichas limitaciones, denominado Patrón Slicer.
